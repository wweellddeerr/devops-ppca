\section{A Categoria Principal: Cultura de Colaboração}\label{secao_core_category}

A categoria principal da adoção de {\it DevOps} é \cc. A \cc visa essencialmente
remover os silos entre os times de desenvolvimento e operações, o que até certo
ponto se confunde com os próprios objetivos de {\it DevOps}. Inicialmente, uma
\cc envolve que as tarefas tipicamente de operaçõe---como {\it deployment},
provisionamento e gerenciamento de infraestrutura e monitoramento---devem ser
consideradas atividades regulares, parte do dia a dia de desenvolvimento de
{\it software}. As organizações relatam que não aguardam mais momentos específicos
para performar essas atividades, elas são executadas continuamente. Isso leva
ao primeiro conceito relacionado à categoria principal: {\bf operações no dia
a dia de desenvolvimento}.

\begin{mq}
``\emph{Uma etapa muito importante foi trazer o {\it deployment} para dentro do
dia a dia de desenvolvimento, sem ter que ficare esperando um dia específico
da semana ou do mês. Nós queríamos fazer {\it deploy} o tempo inteiro, mesmo
que em um primeiro momento não fosse em produção, um ambiente de {\it staging}
era suficiente. [...] O que a gente queria era incorporar o {\it deployment} ao
desenvolvimento. É claro que para que a gente pudesse fazer o {\it deployment}
continuamente, a gente tinha que prover toda a infraestrutura necessária no
mesmo ritmo.}" (P14, Gerente de \acrshort{TI}, Brasil)
\end{mq}

Sem {\it DevOps}, um cenário comum é a existência de um processo acelerado de
desenvolvimento de {\it software} sem preocupações relacionadas a operações.
No final, quando o time de desenvolvimento tem um mínimo produto viável, ele
o envia para o time de operações para publicação. Conhecendo poucas coisas sobre
a natureza do {\it software} e como ele foi produzido, o time de operações tem
que criar e configurar o ambiente necessário e publicar o {\it software}. Neste
cenário, a entrega de {\it software} tipicamente atrasa e os conflitos entre
os times se manifestam. Quando uma \cc é fomentada, os times colaboram para
executar as tarefas desde o primeiro dia do desenvolvimento do {\it software}.
Com o constante exercício das práticas de provisionamento, gerenciamento,
configuração e {\it deployment}, a entrega de {\it software} se torna mais
natural, reduzindo os atrasos e, consequentemente, os conflitos entre os times.

\begin{mq}
``\emph{Nós trabalhamos usando uma abordagem ágil, com {\it sprints} de quinze
dias, onde a gente foca em produzir {\it software} e gera novas versões em
altíssima frequência. Mas, na hora da entrega do {\it software} é que as
complicações começavam a aparecer. O trabalho de construir todo o ambiente
e fazer o {\it deploy} não fazia parte das {\it sprints}, a gente focava apenas
em codificar a aplicação. As entregas frequentemente atrasavam,
e a gente tinha que entregar com atrasos de semanas, o que não era bom nem para
nós e nem para os clientes.}'' (P6, {\it Developer}, Portugal)
\end{mq}

Um dos resultados da construção de uma \cc é que o time de desenvolvimento não
precisa mais parar o seu trabalho aguardando pela disponibilização de um
servidor de aplicação, ou pela execução de um {\it script} na base de dados, ou
ainda pela publicação de uma nova versão do {\it software} em um ambiente de
testes. Todos os envolvidos precisam conhecer a maneira como todas essas coisas
são feitas e, com a colaboração do time de operações, isso pode ser executado
de maneira regular. Se uma tarefa pode ser executada pelo time de desenvolvimento
e há confiança entre os times, essa tarefa será incorporada ao processo de
desenvolvimento de uma maneira natural, manifestando o segundo conceito
relacionado à categoria \cc: {\bf empoderamento do desenvolvimento de {\emph software}}.

\begin{mq}
``\emph{Não era viável a gente ter tantos desenvolvedores produzindo artefatos e
parando o trabalho deles para aguardar outro time completamente separado
publicar. Ou também precisar de um ambiente de teste e ter que esperar o time
de operações prover isto quando possível. Essas atividades tinham que estar
disponíveis para servir rapidamente ao time de desenvolvimento. Com DevOps
nós conseguimos suprir essa necessidade de liberdade e mais poder para executar
algumas tarefas que são intrisicamente relacionadas ao trabalho deles.}''
(P5, {\it Systems Engineer}, Espanha)
\end{mq}

Uma \cc requer {\bf pensamento de produto}, em substituição a pensamento de
desenvolvimento ou de operações. O time de desenvolvimento precisa compreender
que o {\it software} é um produto que não se encerra após o ``{\it push}'' do código
para o repositório de código-fonte, e o time de operações precisa entender que
o processo também não se inicia quando um artefato é recebido para publicação.
{\bf Pensamento de produto} é o terceiro conceito relacionado à categoria
principal.

\begin{mq}
``\emph{Nós alteramos o perfil profissional buscado em nossas contratações. Nós
queríamos contratar pessoas que tivessem uma visão de produto. Pessoas que eram
capazes de olhar para um problema e pensar na melhor solução para ele. Mas não
apenas pensar em uma solução de software, pensar também no momento em que essa
aplicação vai ser publicada. Nós também reunimos os desenvolvedores para
reforçar que todos deviam atuar dessa maneira. Todos deviam pensar no produto e
não apenas em seu código ou em sua infraestrutura.}" (P12, Cloud Engineer,
Estados Unidos)
\end{mq}

Deve haver uma {\bf comunicação direta} entre os times. Sistemas de {\it
ticket} são citados como um meio típico e inadequado de comunicação entre os
times de desenvolvimento e operações. A comunicação face a face é a melhor
opção, mas considerando que nem sempre é viável, o uso contínuo de ferramentas
como \emph{Slack}\footnote{https://slack.com/} e \emph{Hipchat}\footnote{https://www.hipchat.com/}
é citado como opção apropriada. {\bf Comunicação direta} é o quarto conceito
relacionado à categoria principal.

\begin{mq}
``\emph{Nós também usamos essa ferramenta ({\it Hipchat})
como uma maneira de facilitar a comunicação entre os times de desenvolvimento e
operações. O ritmo de trabalho é bastante acelerado, e por isso não é viável ter
uma comunicação burocrática. Pra agilizar as coisas, a gente usa bastante o
{\it Hipchat}, todos estão sempre atentos às mensagens, as respostas são
rápidas e a gente tem um controle bem adequado por lá. Isso deu muita liberdade
nas tarefas de desenvolvimento, em caso de qualquer dúvida, a equipe de
operações está ao alcance de uma mensagem.}" (P5, Engenheiro de Sistemas, Espanha)
\end{mq}

Existe uma {\bf responsabilidade compartilhada} de identificar e corrigir os
problemas de um {\bf software} ao fazer a transição para produção. A estratégia
de evitar a responsabilidade deve ser evitada. A equipe de desenvolvimento não
deve afirmar que uma determinada questão é um problema na infraestrutura, então
é responsabilidade da equipe de operações. Ou o contrário, a equipe de operações
não deve afirmar que uma determinada falha foi motivada por um problema na
aplicação, então é responsabilidade da equipe de desenvolvimento. Um contexto de
{\bf blameless} deve ser fomentado. Os times precisam focar na resolução dos
problemas e não em encontrar um culpado e fugir da responsabilidade. O contexto
de {\bf responsabilidade compartilhada} envolve não apenas a resolução de
problemas, mas também qualquer outra responsabilidade inerente ao produto de
{\it software} deve ser compartilhada. {\bf Blameless} e {\bf responsabilidade
compartilhada} são os conceitos restantes da categoria principal.

\begin{mq}
``\emph{Como consequência dessa busca contínua por melhoria da qualidade, em um
momento já avançado do processo, quando nós já tínhamos um bom nível de
colaboração, automação e tudo mais, nós identificamos um ponto de melhoria na
nossa cultura. Nós percebemos que algumas pessoas tinham medo de cometer erros.
Nossa cultura não era forte o suficiente para fazer com que todos se sentissem
à vontade para inovar e experimentar sem medo de errar. Nós fizemos um grande
esforço para espalhar essa ideia de que não há culpados por qualquer problema
que possa ocorrer. Nós fazemos todo o possível para evitar falhas, mas elas
vão acontecer, e apenas sem essa busca por culpados nós vamos ser capazes de
resolver os problemas rapidamente.}" (P8, {\it DevOps Engineer}, Brasil)
\end{mq}

À primeira vista, considerar a criação e o fortalecimento da \cc como o passo
mais importante para a adoção de {\it DevOps} pode parecer um tanto óbvio, mas
os próprios entrevistados citaram alguns equívocos que consideram recorrentes
em não priorizar esse aspecto na adoção de {\it DevOps}:

\begin{mq}``\emph{Na adoção de {\it DevOps}, há uma questão cultural muito forte
que os times muitas vezes não estão adaptados. Relacionado a isso, uma coisa
que me incomoda muito e que eu vejo acontecer muito é que as pessoas tomam
{\it DevOps} exclusivamente por ferramentas ou automação}'' (P9, Gerente de
\acrshort{TI}, Brasil)
\end{mq}

Além da categoria principal (\cc), foram identificados três outros conjuntos de
categorias: os \emph{facilitadores} da adoção de {\it DevOps}, as \emph{saídas}
da adoção de {\it DevOps}, e as categorias que são tanto facilitadores como
saídas. Uma explicação mais abrangente sobre esses dois papéis desempenhados
pelas categorias de conceitos em uma adoção de {\it DevOps} será apresentada
na seção \ref{secao_teoria}. Nas próximas seções as categorias são descritas
por meio dos seus conceitos relacionados.

\section{Facilitadores \emph{DevOps}}\label{secao_facilitadores}

Aqui serão detalhadas as duas categorias que sustentam a adoção das práticas
{\it DevOps}: \cat{automação} e \cat{compartilhamento e transparência}.

\subsection{Automação} \label{ssec:automation}

Essa é a categoria que apresenta o maior número de conceitos relacionados. Isso
ocorre porque procedimentos manuais são considerados fortes candidatos para
propiciar a formação de um silo, dificultado a criação de uma \cc. Se uma tarefa
é manual, uma pessoa ou um time será responsável por executá-la. Apesar de
\cat{compartilhamento e transparência} poderem ser usados para garantir a
colaboração mesmo em tarefas manuais, com a \cat{automação}, os pontos onde os
silos podem surgir são minimizados.

\begin{mq}
``\emph{Quando um desenvolvedor precisava criar uma nova aplicação, o workflow
antigo exigia que ele criasse um ticket para a equipes de operações, que então
avaliava e resolveria manualmente o problema solicitado. Essa tarefa podia levar
muito tempo e não havia visibilidade entre os times sobre o que estava
acontecendo [\ldots]. Hoje, esses silos não existem mais dentro da empresa,
em particular porque não é mais necessário executar todas essas tarefas
manualmente, tudo foi automatizado.}" (P12, Cloud Engineer, Estados Unidos)
\end{mq}

Além de contribuir para transparência, a \cat{automação} de procedimentos
também é considerada importante para garantir \emph{reprodutibilidade} de
tarefas, reduzindo retrabalho e risco de falha humana. Consequentemente,
\cat{automação} aumenta a confiança entre os times o que é um aspecto importante
da \cc.

\begin{mq}
``\emph{Antes de nós adotarmos DevOps, havia muito trabalho manual. Por exemplo,
se você precisasse criar um esquema no banco de dados, era um processo manual;
se você precisava criar um servidor de banco de dados, era um processo manual;
se você precisasse criar instâncias EC2\footnote{Amazon Elastic Compute Cloud}
adicionais, mais uma vez um processo manual. Este trabalho manual era demorado
e muitas vezes causava erros e retrabalho.}'' (P1, {\it DevOps Developer}, Irlanda)
\end{mq}

\begin{mq}
``\emph{Nossa principal motivação para adotar DevOps foi basicamente reduzir o
retrabalho. Quase toda semana a gente tinha que basicamente construir novos
servidores e iniciá-los manualmente, o que era muito demorado.}'' (P4, Técnico
em Computação, Brasil)
\end{mq}

Os oito conceitos da categoria \cat{automação} são detalhados a seguir.
Todas as entrevistas continham explicações sobre (1) {\bf automação do \emph{deployment}},
como parte da adoção de {\it DevOps}. A entrega de {\it software} é a
manifestação mais clara da entrega de valor no desenvolvimento de {\it software}.
Em caso de problemas no {\it deployment}, a expectativa de entregar valor ao
negócio pode rapidamente gerar conflitos e manifestar a existência de silos.
Desta forma, a \cat{automação} normalmente aumenta a agilidade e a confiabilidade.
Alguns outros conceitos de automação giram exatamente em torno da automação do
{\it deployment}.

É importante observar que a ocorrência frequente de {\it deployments} bem
sucedidos não é suficiente para garantir a geração de valor para o negócio.
Certamente, a qualidade do software é mais relevante. Portanto, para que possam
fazer parte do {\it pipeline} do {\it deployment}, as verificações de qualidade
também precisam ser automatizadas, como é o caso da (2) {\bf automação de testes}.
Além disso, para automatizar o {\it deployment} de aplicações, o ambiente em
que elas serão executadas precisa estar disponível. Portanto, a (3) {\bf automação
do provimento da infraestrutura} também deve ser considerada no processo. Além
de estar disponível, o ambiente precisa ser configurado adequadamente,
incluindo a quantidade de memória e CPU disponibilizada, as versões corretas de
bibliotecas  e a estrutura do banco de dados. Se a configuração de algum
desses aspectos não tiver sido automatizada, o {\it deployment} automatizado
pode não funcionar. Portanto, a (4) {\bf automação do gerenciamento da
infraestrutura} é outro conceito da categoria \cat{automação}.

{\it Software} moderno é tipicamente construído em torno de serviços.
Microsserviços foram comumente citados como um aspecto da adoção de {\it DevOps}.
Para Fowler e Lewis \cite{martinfowler2014microservices}, no estilo arquitetural
de microsserviços, os serviços precisam ser independentemente implantáveis por
mecanismos de {\it deployment} totalmente automatizados. Essa parte das
características de microsserviços relacionada a \cat{automação} foi aqui
denominada de (5) {\bf serviços autônomos}. Os relatos sobre a adoção de {\it DevOps}
tipicamente citam a (6) {\bf conteinerização} como uma maneira de automatizar o
provisionamento do ambiente onde esses serviços autônomos são executados: os
contêineres. (7) {\bf Automação do monitoramento} e (8) {\bf automação da
recuperação} são os conceitos restantes. O primeiro refere-se à capacidade de
monitorar as aplicações e a infraestrutura subjacente sem intervenção humana.
Um exemplo clássico é o uso generalizado de ferramentas para enviar mensagens
relatando alarmes - por meio de SMS, {\it Slack} / {\it Hipchat}, ou até mesmo
chamadas de celular - em caso de incidentes relacionados às aplicações
detectados automaticamente. E o segundo está relacionado à capacidade de
substituir um componente que não está funcionando adequadamente ou reverter uma
falha no {\it deployment} sem intervenção humana.

\subsection{Transparency and Sharing} Represents the grouping of concepts
emerged from recurrent interviews that help to disseminate concepts and
activities. Training, tech talks, committees lectures, and round tables
are examples of these events. Creating
channels using communication tools is another recurrent topic
related to \cat{sharing} along the processes of DevOps adoption.
According with the content of what is shared, we
have identified three main concepts:

\begin{itemize}
\item Knowledge sharing: the professionals interviewed mention a wide range of
skills they need to acquire during the adoption of DevOps, citing
structured events of sharing to smooth the learning curve of both technical and
cultural knowledge.


\item Activities sharing: where the focus is on sharing how simple tasks can or
should be performed. Communication tools, committees, and round tables are the common
forum for sharing this type of content.

\item Process sharing: here, the focus is on sharing whole working processes. The
content is more comprehensive than in sharing activities. Tech talks and
lectures are the common forum for sharing processes.

\end{itemize}

Sharing concepts contribute with the \cc. For example,
all team members gain best insight about the entire software production
process, with a solid understanding of shared responsibilities. A shared vocabulary also
emerged from \cat{sharing} and this facilitates communication.

The use of \textbf{infrastructure as code} was
recurrently cited as a means for guaranteeing that everyone knows how the execution environment of
an application is provided and managed. Bellow, we present an interview
transcript which sums up this concept.

\begin{mq}
``\emph{So, here we adopted this type of strategy that is the infrastructure as code,
consequently we have the versioning of our entire infrastructure in a common
language, in such a way that any person, a developer, an architect, the
operations guy of even the manager, he looks and is able to describe that the
configuration of application x is y. So, it aggregates too much value for us
exactly with more transparency.}" (P12, Cloud Engineer, United States)
\end{mq}

Regarding cat{transparency and sharing}, we also found the concept of \textbf{sharing on a regular basis}, which suggests
that sharing should be embedded in the process of software
development, in order to contribute effectively to transparency.
As we will detail in the \emph{continuous integration} concept of
the \cat{agility} category, a common way to integrate all tasks is a pipeline. Here, there is the
concept of \textbf{shared pipelines}, which indicates that the code of pipelines
must be accessible to everyone, in order to foment transparency.

\begin{mq}
``\emph{The code of how the infrastructure is
made is open to developers and the sysadmins need to know some aspects of how
the application code is built. The code of our pipelines is accessible to
everyone in the company to know how activities are automated}" (P13, Technology
Manager, Brazil)
\end{mq}


\section{\emph{Saídas} da Adoção de {\emph DevOps}}\label{secao_saidas}

%In this section we detail the categories that correspond to
%the expected consequences with the adoption of
%DevOps practices, including \cat{agility} and \cat{resilience};
%as discussed as follows.

\subsection{Agility}

Agility is frequently discussed as a major outcome of DevOps adoption. With more
collaboration between teams, \textbf{continuous integration} with execution of
multidisciplinary pipelines is possible and it is an agile related concept
frequently explored. These pipelines might contain
infrastructure provisioning, automated regression testing, code analysis,
automated deployment and any other task considered important to
execute continuously.

These pipelilnes encourage two other agile concepts: \textbf{continuous
infrastructure provisioning} and \textbf{continuous deployment}. The latter is
one of the most recurrent concepts identified in the interview analysis. Before
DevOps, deployment had been seen as a major event with high risk of downtime and
failure involved. After DevOps, the sensation of risk in deployment decreases
and this activity became more natural and frequent. Some practitioners claim
to perform dozens of deployments daily.

\subsection*{Resilience}

Also related to an expected outcome of adopting DevOps, \cat{resilience} in this
context refers to the ability of applications to adapt quickly to adverse situations.
The first related concept is \textbf{auto scaling}---i.e.,
allocating more or less resources to applications that increase or
decrease on demand. Another concept related to
the \cat{resilience} category is \textbf{recovery automation}, that is
the capability of the applications and infrastructure to recovery itself in case of
failures. There are two typical cases of recovery automation: (1) in cases
of some instability in the execution environment of an application (a
container, for example) occurs an auto restart of that environment; and (2) in
cases of new version deployment, if the new version does not work properly, the
previous one must be restored. This auto restore of a previous version
decrease the chance of downtimes due to errors in specific versions, which
is the concept of \textbf{zero down-time}, the last one of the \cat{resilience} category.

\section{Categorias que são tanto \emph{Facilitadores} como \emph{Saídas} da Adoção de \emph{DevOps}}
\label{secao_facilitadores_e_saidas}

Finally, here we detail the categories that are both enablers
and outcomes, including \cat{continuous measurement}
and \cat{quality assurance}; as discussed as follows.

\subsection{Continuous Measurement}

As an enabler, performing regularly the
activities of measurement and sharing
contributes to avoid existing silos and reinforce the \cc, because it is
considered a typical responsibility of the operations team.

\begin{mq}
``\emph{Before, we had only sporadic looks to
zabbix\footnote{\url{https://www.zabbix.com/}} to check if everything was OK.
At most someone would stop to look memory and CPU consumption. To maintain a
the quality of services, we expanded this view of metrics collection so that it
became part of the software product. We then started to collect metrics continuously
and with shared responsibilities. For example, if an overflow occurred in the
number of database connections, everyone received an alert and had
the responsibility to find solutions to that problem. %This is an interesting example of
%metrics that everyone started to be more attentive, not only the operations
%team.
}" (P3, DevOps Developer, Ireland)
\end{mq}

As an outcome, the continuously collection of metrics from applications and
infrastructure is a required consequence of DevOps adoption. It occurs because
the resultant agility increases the risk of something going wrong. The team
should be able to react quickly in case of problems, and the continuous
measurement allows it to be proactive and resilient.

\begin{mq}
``\emph{With DevOps we can do deployment all the time and, consequently, there was
the need of greater control of what was happening. So, we used
grafana\footnote{\url{https://grafana.com/}} and
prometheus\footnote{\url{https://prometheus.io/}} to follow everything that is
happening in the infrastructure and in the applications. We have a complete
dashboard in real time, we extract reports and, when something goes wrong, we
are the first to know.}" (P10, Network Administrator, Brazil)
\end{mq}

Continuous monitoring involves \textbf{application log monitoring} (1), a
concept that corresponds to the use of the log produced by
applications and infrastructure as data source. The concept of
\textbf{continuous infrastructure monitoring} (2) indicates that the monitoring
is not performed by a specific person or team in a specific moment. The
responsibility to monitor the infrastructure is shared and it is executed in
daily. \textbf{Continuous application measurement} (3), in turn, refers to
the instrumentation to provide metrics that are used to evaluate aspects and
often direct evolution or business decisions. All these monitoring/measurement
can occur in an automated way, the \textbf{monitoring automation} already been
detailed in subsection \ref{ssec:automation}.

\subsection{Quality Assurance}

In the same way as continuous measurement, quality assurance is a category that
can work both as enabler and as outcome. As enabler because an increasing quality
leads to more confidence between the teams, which in the end generates a virtuous
cycle of collaboration. As outcome, the principle is that it is not
feasible to create a scenario of continuous delivery of software without control
about the quality of the products and its production processes.

Respondents pointed to the need for sophisticated control of which code should
be part of deliverables that are continuously delivered. Git Flow was
recurrently cited as suitable \textbf{code branching} (1) model, the first
concept of quality assurance.
In a previous section, we explored the automation face of
microservices and testing. These elements have also a quality assurance face.
Another characteristic of microservices is the need for small services focusing
in doing only one thing. These small services are easier to scale and
structure, which manifest a quality assurance concept: \textbf{cohesive
services} (2). Regarding testing, another face is \textbf{continuous
testing} (3). To ensure quality in software products, we found that
tests (as well as other quality checks) should occur continuously. Continuous testing
is considered challenging without automation, and this reinforces the need for automated
tests.

Another two concepts cited as part of quality assurance in DevOps adoption are
the use of \textbf{source code static analysis} (4) to compute quality metrics in
source code and the \textbf{parity between environments} to
reinforce transparency and collaboration during software development.
